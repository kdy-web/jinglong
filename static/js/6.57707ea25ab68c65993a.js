webpackJsonp([6],{"2bPI":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={components:{Bottom:o("RgB6").a},data:function(){return{iphoneError:!1,codeError:!1,sendCodeStatus:!1,time:60,smskey:"",code:"",iphone:""}},methods:{sendCode:function(){var e=this,t=this,o={a:1,type:1,mobile:this.iphone};this.$Api.SmsCode(o).then(function(t){console.log(t),"操作成功"==t.q.d?e.sendCodeStatus=!0:e.$toast.center(t.q.d)});var s=setInterval(function(){t.time-=1,0==t.time&&(t.sendCodeStatus=!1,t.time=60,clearInterval(s))},1e3)},go:function(){var e=this,t={a:2,type:1,mobile:this.iphone,code:this.code};this.$Api.SmsCode(t).then(function(t){console.log(t),e.smskey=t.q.smskey,e.$Api.BindMobile(e.iphone,e.smskey).then(function(t){if(console.log(t),"操作成功"==t.q.d)e.$store.state.sessionId=t.s,e.setCookie("sessionId",t.s,15),e.$router.push({name:"Home"});else if("q.sms key 不能为空"==t.q.d)e.$toast.center("验证码已过期");else{e.$toast.center(t.q.d);var o=e;setTimeout(function(){o.$router.push({name:"Extension"})},500)}})})},setCookie:function(e,t,o){var s=new Date;s.setTime(s.getTime()+24*o*60*60*1e3);var n="expires="+s.toGMTString();document.cookie=e+"="+t+"; "+n}}},n={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("p",{staticClass:"title"},[e._v("首次登录,请绑定手机号")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.iphone,expression:"iphone"}],staticClass:"iphone",attrs:{type:"number",placeholder:"输入手机号"},domProps:{value:e.iphone},on:{input:function(t){t.target.composing||(e.iphone=t.target.value)}}}),e._v(" "),o("div",{staticClass:"code"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticStyle:{float:"left",padding:"0"},attrs:{type:"number",placeholder:"输入短信验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),o("div",{staticClass:"code_btn",on:{click:e.sendCode}},[e.sendCodeStatus?e._e():o("span",{staticStyle:{color:"#fa8a12"}},[e._v("发送验证码")]),e._v(" "),e.sendCodeStatus?o("span",{staticStyle:{color:"#a6a6a6"}},[e._v(e._s(e.time))]):e._e()]),e._v(" "),e.iphoneError?o("div",{staticClass:"error"},[e._v("\n\t\t\t该手机号已绑定其他的微信账号,请重新输入\n\t\t\t\n\t\t")]):e._e(),e._v(" "),e.codeError?o("div",{staticClass:"error"},[e._v("\n\t\t\t验证码有误请重新输入\n\t\t\t\n\t\t")]):e._e()]),e._v(" "),o("div",{staticClass:"binding_btn",on:{click:e.go}},[e._v("\n\t\t绑定\n\t")]),e._v(" "),o("div",{staticClass:"agree"},[e._m(0),e._v(" "),o("router-link",{attrs:{to:{name:"Agree"}}},[e._v("\n\t\t绑定则代表同意服务协议\n\t")])],1),e._v(" "),o("Bottom")],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"circle"},[t("img",{attrs:{src:o("JfLI")}})])}]};var i=o("VU/8")(s,n,!1,function(e){o("rD+I")},"data-v-1f017726",null);t.default=i.exports},JfLI:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAARCAYAAADHeGwwAAAAqElEQVQ4jbXRMQ5BQRCH8b9EQ+EVGhJUhCO4kcJVOIcriAs4BaUT6D8Fm2w27z27k9lJppt8v2IGgCrMRNJR0mVYId5IukraS5oK8NwGuPOdJ7CoGV8Bqhr3AjrjHkAcf6TxAMyAAzDyjgfg9Du6AWPPeADWwKsAyY7HP9hlIkXxGMhBiuMp0IeY4m1AGzK3xrsAAdsIeVvjfUCKmOL/AAEb4AwsLXFAH9A5dLM/gbX8AAAAAElFTkSuQmCC"},"rD+I":function(e,t){}});
//# sourceMappingURL=6.57707ea25ab68c65993a.js.map